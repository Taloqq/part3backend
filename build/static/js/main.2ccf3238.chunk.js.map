{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Person.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","errorStyle","setErrorStyle","setErrorMessage","persons","setPersons","newName","setNewName","newNumber","setNewNumber","handleNameChange","handleNumberChange","showAlert","person","window","confirm","name","console","log","changedPerson","number","personService","returnedPerson","map","catch","error","color","setTimeout","onSubmit","event","preventDefault","personObject","some","e","toLowerCase","find","p","concat","value","onChange","type","Person","onClick","filter","Filter","handleFilter","Notification","message","className","style","App","useState","setFilter","errorMessage","useEffect","initialData","toShow","includes","target","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOACMA,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALD,SAAAG,GAEZ,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,KC0D9BG,EA1EI,SAAC,GAA4J,EAA1JC,WAA2J,IAA/IC,EAA8I,EAA9IA,cAAeC,EAA+H,EAA/HA,gBAAiBC,EAA8G,EAA9GA,QAASC,EAAqG,EAArGA,WAAYC,EAAyF,EAAzFA,QAASC,EAAgF,EAAhFA,WAAYC,EAAoE,EAApEA,UAAWC,EAAyD,EAAzDA,aAAcC,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,mBAmC/IC,EAAY,SAACC,EAAQL,GACzB,IAAMX,EAAKgB,EAAOhB,GAClB,GAAIiB,OAAOC,QAAP,UAAkBF,EAAOG,KAAzB,2EAAwG,CAC1GC,QAAQC,IAAI,OACZ,IAAMC,EAAa,2BAAON,GAAP,IAAeO,OAAQZ,IAC1Ca,EACUxB,EAAIsB,GACX3B,MAAK,SAAA8B,GACJjB,EAAWD,EAAQmB,KAAI,SAAAV,GAAM,OAAIA,EAAOhB,KAAOA,EAAKgB,EAASS,SAE9DE,OAAM,SAAAC,GACLvB,EAAc,CAACwB,MAAO,QACtBvB,EAAgB,WAAD,OACFU,EAAOG,KADL,6CAGfW,YAAW,WACTxB,EAAgB,QACf,UAKX,OACA,0BAAMyB,SAxDY,SAACC,GACjBA,EAAMC,iBACN,IAAMC,EAAe,CACnBf,KAAMV,EACNc,OAAQZ,GAEV,GAAIJ,EAAQ4B,MAAK,SAAAC,GAAC,OAAIA,EAAEjB,KAAKkB,gBAAkB5B,EAAQ4B,iBAAe,CACpE,IAAMrB,EAAST,EAAQ+B,MAAK,SAAAC,GAAC,OAAIA,EAAEpB,OAASe,EAAaf,QACzDJ,EAAUC,EAAQkB,EAAaX,aAG/BC,EACUU,GACLvC,MAAK,SAAAqB,GACJR,EAAWD,EAAQiC,OAAOxB,OAE3BrB,KAAKU,EAAc,CAACwB,MAAO,WAC3BF,OAAM,SAAAC,GACLR,QAAQC,IAAIO,EAAMhC,SAASC,MAC3BS,EAAgB,qBAGtBD,EAAc,CAACwB,MAAO,UACtBvB,EAAgB,SAAD,OACJ4B,EAAaf,OAExBW,YAAW,WACTxB,EAAgB,QACf,KAELI,EAAW,IACXE,EAAa,MA0Bb,uCAAY,2BACR6B,MAAOhC,EACPiC,SAAU7B,KAEd,yCAAc,2BACV4B,MAAO9B,EACP+B,SAAU5B,KAEd,6BACE,4BAAQ6B,KAAK,UAAb,UClDSC,EAlBA,SAAC,GAAqC,IAAnC5B,EAAkC,EAAlCA,OAAQT,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAYjC,OACE,4BAAKQ,EAAOG,KAAZ,IAAmBH,EAAOO,OACzB,4BAAQoB,KAAK,SAASE,QAAS,kBAZhB7C,EAYgCgB,EAAOhB,QAXnDiB,OAAOC,QAAQ,kBACjBE,QAAQC,IAAR,6BAAkCrB,IAClCwB,EACSxB,GACNL,KAAKa,EAAWD,EAAQuC,QAAO,SAAA9B,GAAM,OAAIA,EAAOhB,KAAOA,SAL5C,IAAAA,IAYf,YCJU+C,EAXA,SAAC,GAA8B,IAA5BD,EAA2B,EAA3BA,OAAQE,EAAmB,EAAnBA,aAExB,OACE,mDACqB,2BACnBP,MAAOK,EACPJ,SAAUM,MCDVC,EAAe,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAAS9C,EAAiB,EAAjBA,WAC/B,OAAgB,OAAZ8C,EACK,KAIP,yBAAKC,UAAU,QAAQC,MAAOhD,GAC3B8C,IAuDQG,EAlDH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACR/C,EADQ,KACCC,EADD,OAEgB8C,mBAAS,IAFzB,mBAER7C,EAFQ,KAECC,EAFD,OAGoB4C,mBAAS,IAH7B,mBAGR3C,EAHQ,KAGGC,EAHH,OAIc0C,mBAAS,IAJvB,mBAIRR,EAJQ,KAIAS,EAJA,OAKyBD,mBAAS,MALlC,mBAKRE,EALQ,KAKMlD,EALN,OAMsBgD,qBANtB,mBAMRlD,EANQ,KAMIC,EANJ,KAQhBoD,qBAAU,WACRjC,IAEK7B,MAAK,SAAA+D,GACNlD,EAAWkD,QAEd,IAEH,IAAMC,EAAUb,EACdvC,EAAQuC,QAAO,SAAA9B,GAAM,OAAIA,EAAOG,KAAKkB,cAAcuB,SAASd,MADrCvC,EAezB,OACE,6BACE,yCACA,kBAAC,EAAD,CAAc2C,QAASM,EAAcpD,WAAYA,IACjD,kBAAC,EAAD,CAAQ0C,OAAQA,EAAQE,aAhBP,SAAChB,GACpBuB,EAAUvB,EAAM6B,OAAOpB,UAgBrB,iDACA,kBAAC,EAAD,CAAYrC,WAAYA,EAAYC,cAAeA,EAAemD,aAAcA,EAAclD,gBAAiBA,EAAiBC,QAASA,EAASC,WAAYA,EAAYC,QAASA,EAASC,WAAYA,EAAYC,UAAWA,EAAWC,aAAcA,EAAcC,iBAdjP,SAACmB,GACxBtB,EAAWsB,EAAM6B,OAAOpB,QAaoR3B,mBAVnR,SAACkB,GAC1BpB,EAAaoB,EAAM6B,OAAOpB,UAUxB,uCACA,4BACCkB,EAAOjC,KAAI,SAAAV,GAAM,OAChB,kBAAC,EAAD,CAAQ8C,IAAK9C,EAAOhB,GAAIgB,OAAQA,EAAQT,QAASA,EAASC,WAAYA,UCvD9EuD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.2ccf3238.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst delet = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  delet\r\n}","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = ({ errorStyle, setErrorStyle, setErrorMessage, persons, setPersons, newName, setNewName, newNumber, setNewNumber, handleNameChange, handleNumberChange }) => {\r\n  \r\n  const addNumber = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.some(e => e.name.toLowerCase() === newName.toLowerCase())){\r\n      const person = persons.find(p => p.name === personObject.name)\r\n      showAlert(person, personObject.number)\r\n    }\r\n    else {\r\n      personService\r\n        .create(personObject)\r\n          .then(person => {\r\n            setPersons(persons.concat(person))\r\n          })\r\n          .then(setErrorStyle({color: 'green'}))\r\n          .catch(error => {\r\n            console.log(error.response.data)\r\n            setErrorMessage('haloo kuuluuko')\r\n          })\r\n          \r\n      setErrorStyle({color: 'green'})  \r\n      setErrorMessage(\r\n        `Added ${personObject.name}`\r\n      )\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 3000)\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n  const showAlert = (person, newNumber) => {\r\n    const id = person.id\r\n    if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n      console.log(\"OK!\")\r\n      const changedPerson = {...person, number: newNumber }\r\n      personService\r\n        .update(id, changedPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n        })\r\n        .catch(error => {\r\n          setErrorStyle({color: 'red'})     \r\n          setErrorMessage(\r\n            `Info of ${person.name} has already been removed for the server`\r\n          )\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n  <form onSubmit={addNumber}>\r\n    <div> name: <input \r\n        value={newName}\r\n        onChange={handleNameChange}/>\r\n    </div>\r\n    <div> number: <input \r\n        value={newNumber}\r\n        onChange={handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Person = ({ person, persons, setPersons }) => {\r\n\r\n  const deletThis = id => {\r\n    if (window.confirm(\"are u sure ?\")) {\r\n      console.log(`deleting person id ${id}`)\r\n      personService\r\n        .delet(id)\r\n        .then(setPersons(persons.filter(person => person.id !== id)))\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <li>{person.name} {person.number}\r\n     <button type=\"button\" onClick={() => deletThis(person.id)}>delete</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilter }) => {\r\n  \r\n  return (\r\n    <div>\r\n      filters shown with <input \r\n      value={filter}\r\n      onChange={handleFilter}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport './index.css'\n\nconst Notification = ({ message, errorStyle }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\" style={errorStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ errorStyle, setErrorStyle ] = useState()\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialData => {\n        setPersons(initialData)\n        })\n  }, [])\n\n  const toShow = !filter ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(filter))\n  \n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} errorStyle={errorStyle} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h2>Add a new contact</h2>\n      <PersonForm errorStyle={errorStyle} setErrorStyle={setErrorStyle} errorMessage={errorMessage} setErrorMessage={setErrorMessage} persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ul>\n      {toShow.map(person => \n        <Person key={person.id} person={person} persons={persons} setPersons={setPersons}/>\n      )\n      }\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}